<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GeoSprint</title>
    <link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="preconnect" href="https://unpkg.com" />
    <link rel="preconnect" href="https://overpass.private.coffee" />
    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha512-Zcn6bjR/8RZbLEpLIeOwNtzREBAJnUKESxces60Mpoj+2okopSAcSUIUOseddDm0cxnGQzxIR7vJgsLZbdLE3w=="
        crossorigin=""
    />
    <link rel="stylesheet" href="style.css" />
    <script>navigator.serviceWorker.register("service-worker.js")</script> 
</head>
<body>
    <div id="build-date"></div>
    <main>
        <div class="menu-panel">
            <header class="app-header">
                <h1>GeoGame</h1>
                <p>Chase down the glowing targets in your real-world neighborhood.</p>
            </header>
            <section class="controls">
                <button id="startButton" type="button">Start Game</button>
                <label class="checkbox-label">
                    <input id="toggleDebug" type="checkbox"> Debug Mode
                </label>
                <details class="instructions">
                    <summary>How to play</summary>
                    <ol>
                        <li>Allow the browser to access your location.</li>
                        <li>Press <strong>Start Game</strong> to spawn glowing orbs at nearby intersections.</li>
                        <li>Move in the real world towards an orb until it turns green.</li>
                        <li>Stuck indoors? Toggle debug mode and drag the map or use arrow keys to move.</li>
                    </ol>
                </details>
                <p id="credits"></p>
            </section>
        </div>
        <div class="map-container">
            <div id="map" role="application" aria-label="Map showing your current location"></div>
            <div class="hud" aria-live="polite">
                <div class="hud__stat">
                    <span class="hud__label">Score</span>
                    <span id="scoreValue">0</span>
                </div>
                <div class="hud__stat">
                    <span class="hud__label">Collected</span>
                    <span id="targetCount">0</span>
                </div>
                <div class="hud__stat">
                    <span class="hud__label">Distance</span>
                    <span id="distanceToTarget">--</span>
                </div>
                <div class="hud__stat">
                    <span class="hud__label">Travelled</span>
                    <span id="distanceTravelled">0 m</span>
                </div>
                <div class="hud__stat">
                    <span class="hud__label">Accuracy</span>
                    <span id="gpsAccuracy">--</span>
                </div>
            </div>
        </div>
        <button id="menu-toggle" aria-label="Toggle menu"></button>
        <button id="camera-button" aria-label="Activate camera">ðŸ“·</button>
        <p id="statusMessage" class="status">Waiting for GPS lock...</p>
    </main>
    <script
        src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha512-BwHfrr4c9kmRkLw6iXFdzcdWV/PGkVgiIyIWLLlTSXzWQzxuSg4DiQUCpauz/EWjgk5TYQqX/kvn9pG1NpYfqg=="
        crossorigin=""
    ></script>
    <script src="main.js"></script>
</body>
</html>
